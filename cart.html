<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Your Cart</title>
<link href="https://fonts.googleapis.com/css?family=Parisienne|Tangerine" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}
body{
     
    background-color: rgb(224, 224, 224);
       
}
.navbar{
    position:fixed;
    top:0;
    width:100%;
    height:80px;
    background:#000000;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:0 20px;
    z-index:100;
}

.logo{
    display:flex;
    align-items:center;
    gap:3rem;
}

.logo img{
    width:40px;
    height:40px;
    border-radius:50%;
}

.logo h2{
    font-family:Georgia, 'Times New Roman', Times, serif;
    font-size:30px;
    font-style: italic;
    font-weight: lighter;
    color: rgb(228, 197, 94);
    padding-left: 15%;
}

.navbar nav{
    display:flex;
    align-items:center;
    gap:20px;
}

.navbar nav a{
    color:white;
    text-decoration:none;
    font-size:16px;
    position:relative;
}


#cart-count{
    position:absolute;
    top:-8px;
    right:-12px;
    background:red;
    color:white;
    font-size:12px;
    border-radius:50%;
    padding:2px 6px;
}
.cart { 
    background-color: cornsilk;
    gap: 30px;

    padding-left: 10px;
    margin-left: 10px;
    margin-right: 10px;
    margin-top: 30px;
 }
 .Hero{ 
    margin-top:70px;
    height:70vh;
    background:url("hero.jpg") center/cover no-repeat;
    display:flex;
    justify-content:center;
    align-items:flex-end;
    padding-bottom:30px;
}
.Hero h2{ 
    font-family: Georgia, 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: lighter;
}
.cart h2{
    font-family: Georgia, 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: lighter;
    padding-left: 13vmin;

}
.checkout{ border-radius: 15px;
padding-left: 10px;
width: 60%;
margin-left: 50px;
height: 35px;
background-color:rgb(0, 0, 0) ;
color: rgba(252, 225, 77, 0.712);
margin-top: 10px;
}
.orderForm{
    gap: 30px;
    margin-top: 30px;
    margin-left: 50px;
}
.title{
    font-family: Georgia, 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: lighter;
    margin-bottom: 10px;
    margin-left: 10px;
}
</style>
</head>
<body>
    <header class="navbar">
        <div class="logo">
            <img src="logoo.lnk" alt="logo">
            <h2>Ama bijoux</h2>
        </div>
    
        <nav>
            <a href="indexxx.html">Home</a>
            <a href="cart.html"> <i class="fa-solid fa-cart-shopping"> </i> <span id="cart-count">0</span></a>
        </nav>
    </header>
<div>
    <div id="message" style="
position: fixed;
top: 80px;
right: 20px;
background: #4caf50;
color: white;
padding: 10px 20px;
border-radius: 8px;
display: none;
z-index: 999;
"> your cart is empty!
</div>
</div>

    <div class="Hero">
      <h2> You are Close  </h2>
 </div>
   
 <div class="cart">
<h2>Your Cart</h2>

<div id="cart-items"></div>
<h3 id="total"></h3>
<form class="orderForm" id="orderForm" onsubmit="placeOrder(event)">
    <h3 class="title"> Additional info </h3>
<input type="text" id="fullName" placeholder="Full Name" required><br><br>
<input type="text" id="adress" placeholder="Adress" required><br><br>
<input type="tel" placeholder="phone number" required><br><br>




</form>
 <button type="button" class="checkout"  onclick="sendToWhatsApp()">Order Via WhatsApp</button>
</div>
<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let container = document.getElementById("cart-items");
let total = 0;
 function showMessage(text){
    const msg = document.getElementById("message");
    msg.innerText = text;
    msg.style.display = "block";
       setTimeout(()=>{
      msg.style.display = "none";
     },2000);
}
function displayCart(){
    container.innerHTML="";
    total=0;

    cart.forEach((item,index)=>{
        total += item.price * item.quantity;

        container.innerHTML += `
        <div>
            <img src="${item.image}" width="80">
            <p>${item.name}</p>
            <p>${item.price} MAD</p>
            <p>Quantity: ${item.quantity}</p>
            <button onclick="removeItem(${index})">Remove</button>
            <hr>
        </div>
        `;
    });

    document.getElementById("total").innerText="Total: "+total+" MAD";
}

function removeItem(index){
    cart.splice(index,1);
    localStorage.setItem("cart", JSON.stringify(cart));
    displayCart();
}

function sendToWhatsApp(){
    if(cart.length === 0){
        showMessage("your cart is empty!", "#e74c3c");
        return;
    }
    let fullName =
document.getElementById("fullName").value;
    let adress =
document.getElementById("adress").value;
   if(fullName === "" || adress === "" ){
      showMessage("PLEASE FILL ALL FIELDS!", "#e74c3c");
      return;
}
    let message = "Salam, bghit ndwez commande:%0A%0A";
    cart.forEach(item=>{ message += `• ${item.name} x${item.quantity} - ${item.price * item.quantity} MAD%0A`; });
 message += `%0ATotal: ${total} MAD%0A`;
 message += `%0A•Full Name: ${fullName} %0A`;
 message += `%0A•Adress: ${adress} %0A`;
 let phoneNumber = "212675309883";
 let whatsappURL = `https://wa.me/212675309883?text=${message}`;
 window.open(whatsappURL, "_blank");

}

displayCart();
</script>

</body>
</html>